<div class="container-fluid"> <br><br><br>
    <h3 class="text-center" > Work Order</h3>
<br>
<br>

<div class="row">
    <div class="col-5">
     <div class="card" style="position: fixed; width: 30%;">
         <div class="card-header">Add New Work Order</div>
        <div class="card-body">
            <form [formGroup]="AddWorkorderForm" (submit)="AddWorkOrderData()" >

                <div class="row">
                    <div class="col-6">
                          <div class="mb-3">
                         <label for="Requirement_No">Requirement No</label>
                            <br>
                         <select formControlName="Requirement_No" class="Se">
                            <option *ngFor="let mat of AllRequirementData" [value]="mat.Requirement_No">{{mat.Requirement_No}}</option>
                         </select>  <br>
                         </div>
                    </div>


                    <div class="col-6">
                         <div class="mb-3">
                             <label for="Product_Quantity">Product Quantity</label>
                                 <br>
                                  <select formControlName="Product_Quantity" class="Se">
                                      <option *ngFor="let mat of AllRequirementData" [value]="mat.Product_Quantity">{{mat.Product_Quantity}}({{mat.Requirement_No}})</option>
                                 </select>  <br>
                         </div>
                    </div>

                </div>
                
                <div class="row">
                    <div class="col-6">
                            <div class="mb-3">
                             <label for="Product_Name">Product Name </label>
                                <br>
                            <select formControlName="Product_Name" class="Se">
                                <option *ngFor="let mat of AllRequirementData" [value]="mat.Product_Name">{{mat.Product_Name}} ({{mat.Requirement_No}})</option>
                            </select>  <br>
                            </div>
                    </div>
                   
                    <div class="col-6">
                          <div class="mb-3">
                             <label for="Purchase_Number">Purchase Number </label>
                            <br>
                                 <select formControlName="Purchase_Number" class="Se">
                                      <option *ngFor="let mat of AllPurchaseOrderData" [value]="mat.Purchase_Number">{{mat.Purchase_Number}}({{mat.Requirement_No}})</option>
                                 </select>  <br>
                         </div>
                    </div>
                </div>

                <div class="row">
                          
                                     <label for="exampleInputEmail1" class="form-label">Client Name : </label>
                                        <br>
                                    <select formControlName="Client_Name" class="">
                                        <option *ngFor="let mat of AllRequirementData" [value]="mat.Client_Name">{{mat.Client_Name}}({{mat.Requirement_No}})</option>
                                    </select>  <br>
                
                </div>
                <br>
                <div class="row">
                 
                      <div class="col-6">
                          <div class="mb-3">
                             <label for="Material_Type">Material Type</label>
                            <br>
                                 <select formControlName="Material_Type" class="Se">
                                      <option *ngFor="let mat of AllPurchaseOrderData" [value]="mat.Material_Type_Used">{{mat.Material_Type_Used}}({{mat.Requirement_No}})</option>
                                 </select>  <br>
                         </div>
                    </div>

                    <div class="col-6">                     
            <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Manager Name : </label>
              <br>
                <select formControlName="Manager_Name" class="">
                    <option *ngFor="let mat of AllManagerdata" [value]="mat.Name">{{mat.Name}}</option>
                </select>  <br>
            </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-6">
                         <div class="mb-3">
                             <label for="exampleInputEmail1" class="form-label">QC Name : </label>
                               <br>
                           <select formControlName="QC_Name" class="">
                             <option *ngFor="let mat of AllQCdata" [value]="mat.Name">{{mat.Name}}</option>
                            </select>  <br>
                         </div>
                    </div>

                <div class="col-6">
                     <div class="mb-3">
                         <label for="exampleInputEmail1" class="form-label">Engineer Name : </label>
                         <br>
                         <select formControlName="Engineer_Name" class="">
                            <option *ngFor="let mat of AllEngineerdata" [value]="mat.Name">{{mat.Name}}</option>
                        </select>  <br>
                     </div>
                </div>

                </div>
    
                 
            
                 <div class="row">
            <div class="col-6"> 
            <div class="mb-3">
                <label for="Days_of_Payment">Day of Payment: </label>
                <select class="form-select form-select-sm" formControlName="Days_of_Payment" aria-label="select example">
                                <option value="Regular">Regular</option>
                                <option value="30 Days">30 Days </option>
                                <option value="60 Days">60 Days</option>
                                <option value="90 Days">90 Days </option>
                </select>
            </div>
            </div>
        
            <div class="col-6">
            <div class="mb-3">
                <label for="WorkOrder_Status">Work Order Status  : </label>
                <select class="form-select form-select-sm" formControlName="WorkOrder_Status" aria-label="select example">
                                <option value="Created">Created </option>
                                <option value="Scheduled">Scheduled</option>
                                <option value="In Progress"> In Progress </option>
                                <option value="Completed">Completed </option>
                                <option value="Declined">Declined </option>
                                <option value="Close">Close </option>
                </select>
            </div>
            </div>
                 </div>


            <div class="mb-3">
            <button type="submit" class="btn btn-success">Add Work Order</button>
            </div>
            </form>
        </div>
     </div>
    </div>

    <!-- <div class="col-1"></div> -->
    <br><br>    
    <div class="col-7">
        <div class="row">
            <div class="col-md-6" *ngFor="let a of AllWorkOrderData, let i = index">
                <div class="card">
                    <div class="card-body">
                      
                     <div class="text-end"> 
                         <a type="button" (click)="EditPurchaseOrder(a.Workorder_Id)" data-bs-toggle="modal"
                                data-bs-target="#exampleModal1" title="Edit a Waiting for Approval">
                                <i class="fa-solid fa-pen-to-square fa-lg"></i>
                        </a>
                        <span style="margin-left:15px;cursor: pointer;"><a (click)="DeletePurchaseOrder(a.Workorder_Id)" title="Delete a Purchase Order"> <i class="fa-solid fa-trash-can"></i></a></span>
                     </div>
                     <br>
                        <p>Work Order Number : {{a.WO_Number}}</p>
                        <p>Purchase Order Number : {{a.Purchase_Number}}</p>
                        <p>Requirement Number :  {{a.Requirement_No}}</p>
                        <p>Manager Name :  {{a.Manager_Name}}</p>
                        <p>Engineer Name :  {{a.Engineer_Name}}</p>
                        <p>QC Name :  {{a.QC_Name}}</p>
                        <p>Client Name :  {{a.Client_Name}}</p>
                        <p>Product Quantity No :  {{a.Product_Quantity}}</p>
                        <p>Material Type Used	 :  {{a.Material_Type}}</p>
                        <p>Days of Payment :  {{a.Days_of_Payment}}</p>
                        <p>Work Order Status :  {{a.WorkOrder_Status}}</p>
                        <p>Added Date :  {{a.Added_Date | date}} <br>
                           <span>Added Time : {{a.Added_Date | date :'hh:mm:ss'}}</span> </p>
                        <p>Due Date :  {{a.Due_Date | date}} <br>
                           <span>Due Time : {{a.Due_Date | date :'hh:mm:ss'}}</span> </p>
                        <p>Updated Date : {{a.Updated_Date | date}} <br> 
                            <span>Updated Time : </span> {{a.Updated_Date | date :'hh:mm:ss'}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>


 <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Edit Waiting for Approval</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                <div class="col-md-12">
                   
        <form [formGroup]="EditWorkorderForm">
                      
   
                <div class="row">
                    <div class="col-6">
                          <div class="mb-3">
                         <label for="Requirement_No">Requirement No</label>
                            <br>
                         <select formControlName="Requirement_No" class="Se">
                            <option *ngFor="let mat of AllRequirementData" [value]="mat.Requirement_No">{{mat.Requirement_No}}</option>
                         </select>  <br>
                         </div>
                    </div>


                    <div class="col-6">
                         <div class="mb-3">
                             <label for="Product_Quantity">Product Quantity</label>
                                 <br>
                                  <select formControlName="Product_Quantity" class="Se">
                                      <option *ngFor="let mat of AllRequirementData" [value]="mat.Product_Quantity">{{mat.Product_Quantity}}({{mat.Requirement_No}})</option>
                                 </select>  <br>
                         </div>
                    </div>

                </div>
                
                <div class="row">
                    <div class="col-6">
                            <div class="mb-3">
               <label for="Product_Name">Product Name </label>
               <br>
                <select formControlName="Product_Name" class="Se">
                    <option *ngFor="let mat of AllRequirementData" [value]="mat.Product_Name">{{mat.Product_Name}} ({{mat.Requirement_No}})</option>
                </select>  <br>
            </div>
                    </div>
                   
                    <div class="col-6">
                          <div class="mb-3">
                             <label for="Purchase_Number">Purchase Number </label>
                            <br>
                                 <select formControlName="Purchase_Number" class="Se">
                                      <option *ngFor="let mat of AllPurchaseOrderData" [value]="mat.Purchase_Number">{{mat.Purchase_Number}}({{mat.Requirement_No}})</option>
                                 </select>  <br>
                         </div>
                    </div>

                </div>
                
                <div class="row">
                    <div class="col-6">
                                <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Client Name : </label>
              <br>
                <select formControlName="Client_Name" class="">
                    <option *ngFor="let mat of AllRequirementData" [value]="mat.Client_Name">{{mat.Client_Name}}({{mat.Requirement_No}})</option>
                </select>  <br>
            </div>
                    </div>
                    <div class="col-6">
                        
            <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Manager Name : </label>
              <br>
                <select formControlName="Manager_Name" class="">
                    <option *ngFor="let mat of AllManagerdata" [value]="mat.Name">{{mat.Name}}</option>
                </select>  <br>
            </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-6">
                         <div class="mb-3">
                             <label for="exampleInputEmail1" class="form-label">QC Name : </label>
                               <br>
                           <select formControlName="QC_Name" class="">
                             <option *ngFor="let mat of AllQCdata" [value]="mat.Name">{{mat.Name}}</option>
                            </select>  <br>
                         </div>
                    </div>

                <div class="col-6">
                     <div class="mb-3">
                         <label for="exampleInputEmail1" class="form-label">Engineer Name : </label>
                         <br>
                         <select formControlName="Engineer_Name" class="">
                            <option *ngFor="let mat of AllEngineerdata" [value]="mat.Name">{{mat.Name}}</option>
                        </select>  <br>
                     </div>
                </div>

                </div>
    
                   <div class="col-6">
                          <div class="mb-3">
                             <label for="Material_Type">Material Type</label>
                            <br>
                                 <select formControlName="Material_Type" class="Se">
                                      <option *ngFor="let mat of AllPurchaseOrderData" [value]="mat.Material_Type_Used">{{mat.Material_Type_Used}}({{mat.Requirement_No}})</option>
                                 </select>  <br>
                         </div>
                    </div>
            
                 <div class="row">
            <div class="col-6"> 
            <div class="mb-3">
                <label for="Days_of_Payment">Day of Payment: </label>
                <select class="form-select form-select-sm" formControlName="Days_of_Payment" aria-label="select example">
                                <option value="Regular">Regular</option>
                                <option value="30 Days">30 Days </option>
                                <option value="60 Days">60 Days</option>
                                <option value="90 Days">90 Days </option>
                </select>
            </div>
            </div>
        
            <div class="col-6">
            <div class="mb-3">
                <label for="WorkOrder_Status">Work Order Status  : </label>
                <select class="form-select form-select-sm" formControlName="WorkOrder_Status" aria-label="select example">
                                <option value="Created">Created </option>
                                <option value="Scheduled">Scheduled</option>
                                <option value="In Progress"> In Progress </option>
                                <option value="Completed">Completed </option>
                                <option value="Declined">Declined </option>
                                <option value="Close">Close </option>
                </select>
            </div>
            </div>
                 </div>
         <br>
             <button class="btn btn-success mb-4" (click)="UpdatePurchaseOrder()">Update Work Order</button>
        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>

</div>

</div>